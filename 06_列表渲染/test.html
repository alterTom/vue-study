<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <div id="demo">
        <h2>测试 v-for 遍历数组</h2>
        <ul>
            <li v-for="(p,index) in persons" :key="p.id">
                {{p.id}} -- {{p.name}} -- {{p.age}}
                -- <button @click="deleteP(index)">删除</button>
                -- <button @click="updateP(index,{id:Date.now(),name:'cat',age:'33'})">更新</button>
            </li>
        </ul>
        <h2>测试 v-for 遍历对象</h2>
    </div>


    <script type="text/javascript" src="../js/vue.js"></script>
    <script type="text/javascript">
        new Vue({
            el: '#demo',
            data: {
                persons: [
                    {name:'tom',age:'17',id:1},
                    {name:'tom1',age:'17',id:2},
                    {name:'tom2',age:'17',id:3},
                    {name:'tom3',age:'17',id:4},
                    {name:'tom4',age:'17',id:5},
                    {name:'tom5',age:'17',id:6},
                    {name:'tom6',age:'17',id:7},
                ]
            },

            methods: {
                deleteP(index){
                    this.persons.splice(index,1)
                },

                updateP(index,newPerson){
                   // this.persons.splice(index,1,newPerson);  //spice 不是原生数组的方法 而是vue重新定义的方法
                   // this.persons[index] = newPerson;  //数据变量,但界面不自动更新 ==>数据绑定失效
                    this.persons[index].name = newPerson.name;

                    this.persons = [];

                }
            },



        })

        /*
            vue在内部如何监视数据的变化
            1,对象中的属性数据  (响应式属性: 当修改属性值时,内部就会自动更新对应的界面)
                给属性添加setter方法
            2,数据中的元素数据
               重写(重新定义)数组一系列 更新数组元素的方法
               1),调用原生数组对应的方法,对数组元素进行处理
               2),更新界面
        */
        
    </script>


</body>
</html>